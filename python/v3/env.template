# Solar Heating System v3 - Environment Configuration Template
# ============================================================
#
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git!
#
# Issue #44 - MQTT Authentication Security:
# MQTT credentials MUST be provided via environment variables

# ============================================================
# MQTT Broker Configuration (REQUIRED)
# ============================================================

# MQTT Broker Address
# Set this to your MQTT broker's IP address or hostname
MQTT_BROKER=192.168.0.110

# MQTT Broker Port
# Default: 1883 for unencrypted connections
# Use 8883 for TLS/SSL encrypted connections (recommended for production)
MQTT_PORT=1883

# MQTT Username (REQUIRED)
# Replace with your actual MQTT username
# SECURITY: Never commit this file with real credentials!
MQTT_USERNAME=your_mqtt_username_here

# MQTT Password (REQUIRED)
# Replace with your actual MQTT password
# SECURITY: Use a strong password (minimum 16 characters recommended)
MQTT_PASSWORD=your_secure_password_here

# MQTT Client ID (Optional)
# Unique identifier for this client
# Default: solar_heating_v3
#MQTT_CLIENT_ID=solar_heating_v3

# ============================================================
# Security Best Practices
# ============================================================
#
# 1. PASSWORD STRENGTH
#    - Use minimum 16 characters
#    - Include uppercase, lowercase, numbers, and symbols
#    - Don't use dictionary words
#    - Example generator: openssl rand -base64 24
#
# 2. CREDENTIAL ROTATION
#    - Change passwords regularly (every 90 days recommended)
#    - Use different passwords for dev/staging/production
#    - Never reuse passwords across systems
#
# 3. FILE PERMISSIONS
#    Development (.env):
#      chmod 600 .env
#    
#    Production (systemd environment file):
#      sudo chmod 600 /etc/systemd/system/solar_heating_v3.service.d/env.conf
#      sudo chown root:root /etc/systemd/system/solar_heating_v3.service.d/env.conf
#
# 4. GITIGNORE
#    Ensure .env is in .gitignore (it should be by default)
#    Never commit .env or any file containing real credentials
#
# 5. BACKUP SECURITY
#    If you backup this system, ensure .env files are:
#    - Encrypted in backups
#    - Stored securely
#    - Never included in public repositories
#
# ============================================================
# Production Deployment
# ============================================================
#
# For production on Raspberry Pi, use systemd environment file instead:
#
# Create: /etc/systemd/system/solar_heating_v3.service.d/env.conf
#
# [Service]
# Environment="MQTT_BROKER=192.168.0.110"
# Environment="MQTT_PORT=1883"
# Environment="MQTT_USERNAME=your_mqtt_username"
# Environment="MQTT_PASSWORD=your_secure_password"
#
# Then reload systemd:
#   sudo systemctl daemon-reload
#   sudo systemctl restart solar_heating_v3.service
#
# ============================================================
# Verification
# ============================================================
#
# Test your configuration:
#   cd python/v3
#   python3 -c "from config import config; print('âœ… Config loaded successfully')"
#
# If you see "MQTT credentials required" error:
#   - Check that .env file exists
#   - Check that MQTT_USERNAME and MQTT_PASSWORD are set
#   - Check for typos in variable names
#   - Ensure no quotes around values in .env file
#
# ============================================================
# Additional Configuration (Optional)
# ============================================================
#
# These variables use the SOLAR_ prefix and have defaults
# Uncomment and modify if needed
#
# System Operation
#SOLAR_TEST_MODE=false
#SOLAR_DEBUG_MODE=false
#SOLAR_LOG_LEVEL=info
#
# Temperature Thresholds
#SOLAR_SET_TEMP_TANK_1=75.0
#SOLAR_DTSTARTANK_1=8.0
#SOLAR_DTSTOP_TANK_1=4.0
#
# Database (InfluxDB)
#SOLAR_INFLUXDB_ENABLED=true
#SOLAR_INFLUXDB_URL=http://localhost:8086
#SOLAR_INFLUXDB_TOKEN=
#SOLAR_INFLUXDB_ORG=
#SOLAR_INFLUXDB_BUCKET=solar_heating
#
# TaskMaster AI
#SOLAR_TASKMASTER_ENABLED=false
#SOLAR_TASKMASTER_API_KEY=
#SOLAR_TASKMASTER_BASE_URL=https://api.taskmaster.ai
#
# ============================================================
# Troubleshooting
# ============================================================
#
# Common Issues:
#
# 1. "MQTT credentials required" error
#    Solution: Ensure MQTT_USERNAME and MQTT_PASSWORD are set in .env
#
# 2. "Authentication Failed" error (RC=4)
#    Solution: Verify username/password are correct on MQTT broker
#
# 3. "Not authorized" error (RC=5)
#    Solution: Check broker ACL configuration for this user
#
# 4. ".env file not loaded"
#    Solution: Ensure .env is in python/v3/ directory (same as config.py)
#
# 5. "Permission denied" when reading .env
#    Solution: chmod 644 .env (or 600 for better security)
#
# ============================================================
# Support
# ============================================================
#
# For more information:
#   - docs/architecture/ISSUE_44_MQTT_AUTH_ARCHITECTURE.md
#   - docs/requirements/ISSUE_44_MQTT_AUTH_REQUIREMENTS.md
#   - GitHub Issue #44
#
# ============================================================

